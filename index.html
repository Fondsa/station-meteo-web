<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Station MÃ©tÃ©o</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>Station MÃ©tÃ©o</h1>

<div class="card">
  <h2>Capteurs</h2>
  <p>ExtÃ©rieur : <span id="temp-ext">--</span> Â°C</p>
  <p>HumiditÃ© Ext. : <span id="hum-ext">--</span> %</p>
  <p>IntÃ©rieur : <span id="temp-int">--</span> Â°C</p>
  <p>HumiditÃ© Int. : <span id="hum-int">--</span> %</p>
</div>

<div class="card">
  <h2>Lampe ExtÃ©rieure</h2>
  <button id="btn-lampe">Allumer</button>
</div>

<!-- Firebase CDN compat -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "TA_CLE_API", // remplace par ta clÃ©
    authDomain: "projetfakirradio.firebaseapp.com",
    databaseURL: "https://projetfakirradio-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "projetfakirradio",
    storageBucket: "projetfakirradio.firebasestorage.app",
    messagingSenderId: "363899261538",
    appId: "1:363899261538:web:ad30da02b1485f5c2d373b",
    measurementId: "G-EZL8K5CS4Y"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  const tempExtRef = db.ref("capteurs/exterieur/temperature");
  const humExtRef  = db.ref("capteurs/exterieur/humidite");
  const tempIntRef = db.ref("capteurs/interieur/temperature");
  const humIntRef  = db.ref("capteurs/interieur/humidite");
  const lampeRef   = db.ref("commande/lampe");

  const btnLampe = document.getElementById("btn-lampe");

  // ğŸ”¹ Lecture temps rÃ©el capteurs
  tempExtRef.on("value", snap => document.getElementById("temp-ext").textContent = snap.val() ?? "--");
  humExtRef.on("value", snap => document.getElementById("hum-ext").textContent = snap.val() ?? "--");
  tempIntRef.on("value", snap => document.getElementById("temp-int").textContent = snap.val() ?? "--");
  humIntRef.on("value", snap => document.getElementById("hum-int").textContent = snap.val() ?? "--");


</script>

</body>
</html>
